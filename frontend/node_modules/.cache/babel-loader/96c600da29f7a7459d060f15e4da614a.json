{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kim\\\\Documents\\\\GitHub\\\\FSIM\\\\frontend\\\\src\\\\Components\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport { Form, Container } from \"semantic-ui-react\";\nimport axios from \"axios\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onInputChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n      console.log(this.state);\n    };\n\n    this.onLoginSubmit = event => {\n      const _this$state = this.state,\n            username = _this$state.username,\n            password = _this$state.password;\n      axios.post(\"http://localhost:3000\", {\n        user: {\n          username: username,\n          password: password\n        }\n      }, {\n        withCredentials: true\n      }).then(response => {\n        if (response.data.logged_in) {\n          this.props.handleSuccessfulAuth(response.data);\n        }\n      }).catch(error => {\n        console.log(\"login error\", error);\n      });\n      event.preventDefault();\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      loginErrors: \"\"\n    };\n    this.handleSubmit = this.onLoginSubmit.bind(this);\n    this.handleChange = this.onInputChange.bind(this);\n  }\n\n  render() {\n    // const { values } = this.props;\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onLoginSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"card-login my-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(Form.Group, {\n      controlId: \"formGroupEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Form.Input, {\n      type: \"text\",\n      placeholder: \"Username\",\n      name: \"username\",\n      value: this.state.username,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"formGroupPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Form.Input, {\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), [\"checkbox\"].map(type => React.createElement(\"div\", {\n      key: `default-${type}`,\n      className: \"mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Form.Checkbox, {\n      type: \"checkbox\",\n      label: \"Confirm\",\n      name: \"Confirm\",\n      id: \"Confirm\",\n      onChange: this.onInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success center-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger center-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"\\u0E22\\u0E49\\u0E2D\\u0E19\\u0E01\\u0E25\\u0E31\\u0E1A\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Kim/Documents/GitHub/FSIM/frontend/src/Components/Login.js"],"names":["React","Component","Form","Container","axios","Login","constructor","props","onInputChange","event","setState","target","name","value","console","log","state","onLoginSubmit","username","password","post","user","withCredentials","then","response","data","logged_in","handleSuccessfulAuth","catch","error","preventDefault","loginErrors","handleSubmit","bind","handleChange","render","map","type"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Form, Container } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      loginErrors: \"\"\r\n    };\r\n\r\n    this.handleSubmit = this.onLoginSubmit.bind(this);\r\n    this.handleChange = this.onInputChange.bind(this);\r\n  }\r\n \r\n\r\n  onInputChange = event => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n    console.log(this.state);\r\n  };\r\n\r\n  onLoginSubmit = event => {\r\n    const {username, password} = this.state;\r\n\r\n    axios\r\n      .post(\r\n        \"http://localhost:3000\",\r\n        {\r\n          user:{\r\n            username: username,\r\n            password: password\r\n          }\r\n        },\r\n        {\r\n          withCredentials:true\r\n        }\r\n      )\r\n      .then(response => {\r\n        if (response.data.logged_in){\r\n          this.props.handleSuccessfulAuth(response.data);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(\"login error\",error)\r\n      })\r\n    event.preventDefault();\r\n\r\n    \r\n  };\r\n\r\n \r\n\r\n  render() {\r\n    // const { values } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <Container>\r\n          <form onSubmit={this.onLoginSubmit}>\r\n            <section className=\"card-login my-5\">\r\n              <br />\r\n              <h3>เข้าสู่ระบบ</h3>\r\n              <hr />\r\n              <Form.Group controlId=\"formGroupEmail\">\r\n                <Form.Input\r\n                  type=\"text\"\r\n                  placeholder=\"Username\"\r\n                  name=\"username\"\r\n                  value={this.state.username}\r\n                  onChange={this.handleChange}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n              <Form.Group controlId=\"formGroupPassword\">\r\n                <Form.Input\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  name=\"password\"\r\n                  value={this.state.password}\r\n                  onChange={this.handleChange}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n              <hr />\r\n              {[\"checkbox\"].map(type => (\r\n                <div key={`default-${type}`} className=\"mb-3\">\r\n                  <Form.Checkbox\r\n                    type=\"checkbox\"\r\n                    label=\"Confirm\"\r\n                    name=\"Confirm\"\r\n                    id=\"Confirm\"\r\n                    onChange={this.onInputChange}\r\n                  />\r\n                </div>\r\n              ))}\r\n\r\n              <button type=\"submit\" className=\"btn btn-success center-block\">\r\n                เข้าสู่ระบบ\r\n              </button>\r\n              <button type=\"button\" className=\"btn btn-danger center-block\">\r\n                ย้อนกลับ\r\n              </button>\r\n\r\n              <br />\r\n            </section>\r\n          </form>\r\n        </Container>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}