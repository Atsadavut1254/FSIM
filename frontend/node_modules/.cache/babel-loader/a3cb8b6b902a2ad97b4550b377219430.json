{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kim\\\\Documents\\\\GitHub\\\\FSIM\\\\frontend\\\\src\\\\Components\\\\admin\\\\NewStudent\\\\AddNewStudent.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Button, Form, Col, Row } from 'react-bootstrap';\nimport { FaCloudUploadAlt } from \"react-icons/fa\";\nimport Year from '../../option/year';\nimport Admission_channel from '../../option/admission_channel';\nimport Project from '../../option/project';\nimport ApiManage from \"../../../Class/ApiManage\";\n\nclass AddNewStudent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeAround = search => {\n      // console.log(search.target.value);\n      this.setState({\n        admission_channel: search.target.value\n      });\n    };\n\n    this.handleChangeProject = search => {\n      // console.log(search.target.value);\n      this.setState({\n        admission_type: search.target.value\n      });\n      this.setState({\n        admission_channel: 0\n      });\n    };\n\n    this.handleChangeYear = search => {\n      this.setState({\n        year: search.target.value\n      });\n    };\n\n    this.handleReset = event => {\n      this.setState({\n        admission_type: 0,\n        admission_channel: 0,\n        year: 0,\n        upload: []\n      });\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.state = {\n      admission_type: 0,\n      admission_channel: 0,\n      year: 0,\n      files: [],\n      fileURL: '',\n      data: \"\",\n      isLoaded: false\n    };\n    this.handleSubmit = this.handleSubmit.bind(this); // this.onSubmit = this.onSubmit.bind(this)\n  }\n\n  onChange(e) {\n    var files = e.target.files;\n    var filesArr = Array.prototype.slice.call(files);\n    this.setState({\n      upload: [...filesArr]\n    });\n    alert(this.state.year + \" \" + this.state.admission_channel + \" \" + this.state.admission_type);\n  }\n\n  removeFile(f) {\n    this.setState({\n      upload: this.state.upload.filter(x => x !== f)\n    });\n  }\n\n  // handleUploadFile(ev){\n  //     ev.preventDefault()\n  //     const data = new FormData()\n  // }\n  componentDidMount() {\n    ApiManage.get('addmission/2560/1/1').then(res => {\n      let receive_data = res.data;\n\n      if (receive_data.response === true) {\n        this.setState({\n          data: receive_data.data,\n          isLoaded: true\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const data = new FormData();\n    const target = event.target; // alert(data)\n\n    ApiManage.post(\"admission\", data).then(res => {\n      console.log(res);\n    }).then(error => {\n      console.log(error);\n    }).catch(error => {\n      console.log(error.response.data.message);\n      console.log(error.response.data.value);\n    });\n  } // onSubmit(event) {\n  //     alert(this.state)\n  // let data = this.state\n  // alert(data)\n  // fetch(\"http://127.0.0.1:5000/api/v1/admission\", {\n  //     method: \"POST\",\n  //     headers: { \"Content-Type\": \"application/json\", },\n  //     body: JSON.stringify(data)\n  // })\n  //     .then(function (response) {\n  //         return response.json();\n  //     })\n  //     .then(function (data) {\n  //         console.log(data)\n  //     });\n  // }\n\n\n  render() {\n    let _this$state = this.state,\n        isLoaded = _this$state.isLoaded,\n        data = _this$state.data;\n    let show_data;\n\n    if (isLoaded) {\n      show_data = data.map(data => {\n        const firstname = data.firstname,\n              lastname = data.lastname;\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, firstname, \" -- \", lastname);\n      });\n    }\n\n    const project_name = [{\n      id: 1,\n      fK: 1,\n      name: \"รอบที่ 1/1 โครงการ 2B-KMUTT\"\n    }, {\n      id: 2,\n      fK: 1,\n      name: \"รอบที่ 1/1 โครงการ Active Recruitment\"\n    }, {\n      id: 3,\n      fK: 1,\n      name: \"รอบที่ 1/1 โครงการคัดเลือกตรง ประเภทเรียนดี\"\n    }, {\n      id: 4,\n      fK: 1,\n      name: \"รอบที่ 1/1 โครงการคัดเลือกตรงความสามารถพิเศษ และทุนเพชรพระจอมเกล้า\"\n    }, {\n      id: 5,\n      fK: 1,\n      name: \"รอบที่ 1/2 โครงการ Active Recruitment\"\n    }, {\n      id: 6,\n      fK: 1,\n      name: \"รอบที่ 1/2 โครงการ Active Recruitment (จากโครงการ I am SCI)\"\n    }, {\n      id: 7,\n      fK: 1,\n      name: \"รอบที่ 1/2 โครงการรับนักศึกษาจากโรงเรียนเทคโนโลยีฐานวิทยาศาสตร์ \t\"\n    }, {\n      id: 8,\n      fK: 1,\n      name: \"รอบที่ 1/2 โครงการรับนักศึกษาพิการ\"\n    }, {\n      id: 9,\n      fK: 1,\n      name: \"รอบที่ 1/2 โครงการรับนักเรียน โครงการ วมว.\"\n    }, {\n      id: 10,\n      fK: 1,\n      name: \"รอบที่ 1/2 โครงการรับนักเรียน จากมูลนิธิ สอวน.\"\n    }, {\n      id: 11,\n      fK: 1,\n      name: \"รอบที่ 1/2 โครงการรับนักศึกษาโดยใช้สิทธิ์บุตรบุคลากร ของ มจธ.\"\n    }, {\n      id: 12,\n      fK: 2,\n      name: \"รอบที่ 2 โครงการคัดเลือกตรงโดยใช้คะแนน GAT/PAT เพื่อผู้เรียนดี มีคุณธรรม (รับนักเรียนเขต* 1,3,4,5,9 เเละกรุงเทพฯ))\"\n    }, {\n      id: 13,\n      fK: 2,\n      name: \"รอบที่ 2 โครงการคัดเลือกตรงโดยใช้คะแนน GAT/PAT เพื่อการกระจายโอกาสทางการศึกษา (รับนักเรียนทุกเขต* ยกเว้นเขต 1 เเละกรุงเทพฯ)\"\n    }, {\n      id: 14,\n      fK: 2,\n      name: \"รอบที่ 2 โครงการคัดเลือกตรง มจธ. รักษาธรรม เพิ่มโอกาสทางการศึกษา\"\n    }, {\n      id: 15,\n      fK: 2,\n      name: \"รอบที่ 2 โครงการคัดเลือกตรงกลุ่ม ปวช.\"\n    }, {\n      id: 16,\n      fK: 2,\n      name: \"รอบที่ 2 โครงการ Active Recruitment\"\n    }, {\n      id: 17,\n      fK: 3,\n      name: \"รอบที่ 3/1 โครงการรับตรงร่วมกัน\"\n    }, {\n      id: 18,\n      fK: 3,\n      name: \"รอบที่ 3/2 โครงการรับตรงร่วมกัน\"\n    }, {\n      id: 19,\n      fK: 4,\n      name: \"รอบที่ 4 โครงการรับนักศึกษาผ่านระบบ Admissions\"\n    }, {\n      id: 20,\n      fK: 5,\n      name: \"รอบที่ 5 โครงการคัดเลือกตรงเพื่อผลิตบุคลากรด้านวิทยาศาสตร์เทคโนโลยีเเละนวัตกรรม (ครั้งที่ 2) ;\"\n    }];\n    const year = [{\n      id: 1,\n      name: '2012'\n    }, {\n      id: 2,\n      name: '2013'\n    }, {\n      id: 3,\n      name: '2014'\n    }];\n\n    let CheckProject = num_project => project_name.filter(p => {\n      return p.fK == num_project;\n    });\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, show_data, React.createElement(Form, {\n      style: {\n        padding: '5%'\n      },\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(Row, {\n      className: \"style-addData\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"\\u0E1B\\u0E35\\u0E17\\u0E35\\u0E48\\u0E23\\u0E31\\u0E1A\\u0E40\\u0E02\\u0E49\\u0E32\")), React.createElement(Col, {\n      sm: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(Year, {\n      option: this.handleChangeYear,\n      value: this.state.year,\n      year: year,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      className: \"style-addData interval-top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"\\u0E42\\u0E04\\u0E23\\u0E07\\u0E01\\u0E32\\u0E23\\u0E23\\u0E31\\u0E1A\\u0E40\\u0E02\\u0E49\\u0E32\")), React.createElement(Col, {\n      sm: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(Project, {\n      option: this.handleChangeProject,\n      value: this.state.admission_type,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      className: \"style-addData interval-top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"\\u0E23\\u0E2D\\u0E1A\\u0E23\\u0E31\\u0E1A\\u0E40\\u0E02\\u0E49\\u0E32\")), React.createElement(Col, {\n      sm: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(Admission_channel, {\n      option: this.handleChangeAround,\n      project: CheckProject(this.state.admission_type),\n      value: this.state.admission_channel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      className: \"style-addData interval-top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E19\\u0E31\\u0E01\\u0E28\\u0E36\\u0E01\\u0E29\\u0E32\\u0E23\\u0E31\\u0E1A\\u0E40\\u0E02\\u0E49\\u0E32\")), React.createElement(Col, {\n      sm: \"9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"custom-file-upload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      accept: \".excel,.csv\",\n      onChange: this.onChange,\n      id: \"file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }), React.createElement(FaCloudUploadAlt, {\n      style: {\n        color: '#FFFFFF'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }), \" UPLOAD CSV FILE \"), this.state.upload.map(x => React.createElement(\"div\", {\n      className: \"file-preview\",\n      onClick: this.removeFile.bind(this, x),\n      key: x.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, x.name)))), React.createElement(\"div\", {\n      className: \"style-addData \",\n      style: {\n        marginTop: '5%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"btn-EditData interval-1\",\n      onClick: this.handleReset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"RESET\"), React.createElement(Button, {\n      type: \"submit\",\n      className: \"btn-info interval-1\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, \"SUBMIT\"))));\n  }\n\n}\n\nexport default AddNewStudent;","map":{"version":3,"sources":["C:/Users/Kim/Documents/GitHub/FSIM/frontend/src/Components/admin/NewStudent/AddNewStudent.js"],"names":["React","Component","ReactDOM","Button","Form","Col","Row","FaCloudUploadAlt","Year","Admission_channel","Project","ApiManage","AddNewStudent","constructor","props","handleChangeAround","search","setState","admission_channel","target","value","handleChangeProject","admission_type","handleChangeYear","year","handleReset","event","upload","onChange","bind","state","files","fileURL","data","isLoaded","handleSubmit","e","filesArr","Array","prototype","slice","call","alert","removeFile","f","filter","x","componentDidMount","get","then","res","receive_data","response","catch","error","console","log","preventDefault","FormData","post","message","render","show_data","map","firstname","lastname","project_name","id","fK","name","CheckProject","num_project","p","padding","color","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport ReactDOM from 'react-dom';\r\nimport { Button, Form, Col, Row } from 'react-bootstrap';\r\nimport { FaCloudUploadAlt } from \"react-icons/fa\";\r\nimport Year from '../../option/year';\r\nimport Admission_channel from '../../option/admission_channel'\r\nimport Project from '../../option/project'\r\n\r\nimport ApiManage from \"../../../Class/ApiManage\"\r\n\r\n\r\nclass AddNewStudent extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onChange = this.onChange.bind(this);\r\n        this.state = {\r\n            admission_type: 0,\r\n            admission_channel: 0,\r\n            year: 0,\r\n            files: [],\r\n            fileURL:'',\r\n            data:\"\",\r\n            isLoaded:false\r\n\r\n        }\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        // this.onSubmit = this.onSubmit.bind(this)\r\n\r\n    }\r\n\r\n    handleChangeAround = (search) => {\r\n        // console.log(search.target.value);\r\n        this.setState({ admission_channel: search.target.value });\r\n    }\r\n\r\n    handleChangeProject = (search) => {\r\n        // console.log(search.target.value);\r\n        this.setState({ admission_type: search.target. value });\r\n        this.setState({ admission_channel: 0 });\r\n    }\r\n\r\n    handleChangeYear = (search) => {\r\n        this.setState({ year: search.target.value });\r\n    }\r\n\r\n    onChange(e) {\r\n        var files = e.target.files;\r\n        var filesArr = Array.prototype.slice.call(files);\r\n\r\n        this.setState({ upload: [...filesArr] });\r\n        alert(this.state.year + \" \" + this.state.admission_channel + \" \" + this.state.admission_type)\r\n    }\r\n\r\n\r\n\r\n    removeFile(f) {\r\n        this.setState({ upload: this.state.upload.filter(x => x !== f) });\r\n    }\r\n\r\n    handleReset = (event) => {\r\n        this.setState({\r\n            admission_type: 0,\r\n            admission_channel: 0,\r\n            year: 0,\r\n            upload: []\r\n        });\r\n    }\r\n\r\n    // handleUploadFile(ev){\r\n    //     ev.preventDefault()\r\n\r\n    //     const data = new FormData()\r\n    // }\r\n\r\n    componentDidMount(){\r\n        ApiManage.get('addmission/2560/1/1')\r\n        .then(res => {\r\n            let receive_data = res.data;\r\n            if(receive_data.response === true) {\r\n                this.setState({\r\n                    data: receive_data.data,\r\n                    isLoaded:true\r\n                })\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    handleSubmit(event) {\r\n       \r\n        event.preventDefault();\r\n        const data = new FormData();\r\n        const target = event.target;\r\n\r\n        // alert(data)\r\n\r\n        ApiManage.post(\"admission\",data)\r\n            .then(res => {\r\n                console.log(res)\r\n            })\r\n            .then(error =>{\r\n                console.log(error)\r\n            })\r\n\r\n            .catch(error => {\r\n                console.log(error.response.data.message);\r\n                console.log(error.response.data.value);\r\n            })\r\n    }\r\n\r\n    // onSubmit(event) {\r\n    //     alert(this.state)\r\n       \r\n        // let data = this.state\r\n        // alert(data)\r\n\r\n        // fetch(\"http://127.0.0.1:5000/api/v1/admission\", {\r\n        //     method: \"POST\",\r\n        //     headers: { \"Content-Type\": \"application/json\", },\r\n        //     body: JSON.stringify(data)\r\n        // })\r\n        //     .then(function (response) {\r\n        //         return response.json();\r\n        //     })\r\n        //     .then(function (data) {\r\n        //         console.log(data)\r\n        //     });\r\n    // }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        let {isLoaded, data} = this.state;\r\n\r\n        let show_data;\r\n\r\n        if (isLoaded){\r\n            show_data = data.map(data => {\r\n                const {firstname, lastname} = data;\r\n                return (\r\n                    <p>{firstname} -- {lastname}</p>\r\n                )\r\n            })\r\n        }\r\n\r\n        const project_name = [\r\n            { id: 1, fK: 1, name: \"รอบที่ 1/1 โครงการ 2B-KMUTT\" },\r\n            { id: 2, fK: 1, name: \"รอบที่ 1/1 โครงการ Active Recruitment\" },\r\n            { id: 3, fK: 1, name: \"รอบที่ 1/1 โครงการคัดเลือกตรง ประเภทเรียนดี\" },\r\n            { id: 4, fK: 1, name: \"รอบที่ 1/1 โครงการคัดเลือกตรงความสามารถพิเศษ และทุนเพชรพระจอมเกล้า\" },\r\n            { id: 5, fK: 1, name: \"รอบที่ 1/2 โครงการ Active Recruitment\" },\r\n            { id: 6, fK: 1, name: \"รอบที่ 1/2 โครงการ Active Recruitment (จากโครงการ I am SCI)\" },\r\n            { id: 7, fK: 1, name: \"รอบที่ 1/2 โครงการรับนักศึกษาจากโรงเรียนเทคโนโลยีฐานวิทยาศาสตร์ \t\" },\r\n            { id: 8, fK: 1, name: \"รอบที่ 1/2 โครงการรับนักศึกษาพิการ\" },\r\n            { id: 9, fK: 1, name: \"รอบที่ 1/2 โครงการรับนักเรียน โครงการ วมว.\" },\r\n            { id: 10, fK: 1, name: \"รอบที่ 1/2 โครงการรับนักเรียน จากมูลนิธิ สอวน.\" },\r\n            { id: 11, fK: 1, name: \"รอบที่ 1/2 โครงการรับนักศึกษาโดยใช้สิทธิ์บุตรบุคลากร ของ มจธ.\" },\r\n            { id: 12, fK: 2, name: \"รอบที่ 2 โครงการคัดเลือกตรงโดยใช้คะแนน GAT/PAT เพื่อผู้เรียนดี มีคุณธรรม (รับนักเรียนเขต* 1,3,4,5,9 เเละกรุงเทพฯ))\" },\r\n            { id: 13, fK: 2, name: \"รอบที่ 2 โครงการคัดเลือกตรงโดยใช้คะแนน GAT/PAT เพื่อการกระจายโอกาสทางการศึกษา (รับนักเรียนทุกเขต* ยกเว้นเขต 1 เเละกรุงเทพฯ)\" },\r\n            { id: 14, fK: 2, name: \"รอบที่ 2 โครงการคัดเลือกตรง มจธ. รักษาธรรม เพิ่มโอกาสทางการศึกษา\" },\r\n            { id: 15, fK: 2, name: \"รอบที่ 2 โครงการคัดเลือกตรงกลุ่ม ปวช.\" },\r\n            { id: 16, fK: 2, name: \"รอบที่ 2 โครงการ Active Recruitment\" },\r\n            { id: 17, fK: 3, name: \"รอบที่ 3/1 โครงการรับตรงร่วมกัน\" },\r\n            { id: 18, fK: 3, name: \"รอบที่ 3/2 โครงการรับตรงร่วมกัน\" },\r\n            { id: 19, fK: 4, name: \"รอบที่ 4 โครงการรับนักศึกษาผ่านระบบ Admissions\" },\r\n            { id: 20, fK: 5, name: \"รอบที่ 5 โครงการคัดเลือกตรงเพื่อผลิตบุคลากรด้านวิทยาศาสตร์เทคโนโลยีเเละนวัตกรรม (ครั้งที่ 2) ;\" }\r\n        ]\r\n\r\n        const year=[\r\n\t\t\t{\r\n\t\t\t\tid:1,\r\n\t\t\t\tname:'2012'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:2,\r\n\t\t\t\tname:'2013'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:3,\r\n\t\t\t\tname:'2014'\r\n\t\t\t}\r\n\t\t]\r\n\r\n        let CheckProject = (num_project) =>\r\n         project_name.filter(p=> {\r\n                return p.fK == num_project;\r\n            });\r\n\r\n        return (\r\n\r\n            <React.Fragment>\r\n                {show_data}\r\n                <Form style={{ padding: '5%' }} onSubmit={this.handleSubmit}>\r\n\r\n\r\n                    <Row className=\"style-addData\" >\r\n                        <Col sm='3' >\r\n                            <label>ปีที่รับเข้า</label>\r\n                        </Col>\r\n                        <Col sm='6'>\r\n                            <Year option={this.handleChangeYear} value={this.state.year} year={year}  />\r\n                        </Col>\r\n                    </Row>\r\n                    <Row className=\"style-addData interval-top\"  >\r\n                        <Col sm='3'>\r\n                            <label>โครงการรับเข้า</label>\r\n                        </Col>\r\n                        <Col sm='6'>\r\n\r\n                            <Project option={this.handleChangeProject} value={this.state.admission_type} />\r\n                        </Col>\r\n                    </Row>\r\n                    <Row className=\"style-addData interval-top\"  >\r\n                        <Col sm='3'>\r\n                            <label>รอบรับเข้า</label>\r\n                        </Col>\r\n                        <Col sm='6'>\r\n                            <Admission_channel option={this.handleChangeAround} project={CheckProject(this.state.admission_type)} value={this.state.admission_channel} />\r\n\r\n                        </Col>\r\n                    </Row>\r\n\r\n                    <Row className=\"style-addData interval-top\" >\r\n                        <Col sm='3'>\r\n                            <label>ข้อมูลนักศึกษารับเข้า</label>\r\n                        </Col>\r\n                        <Col sm='9'>\r\n                            <input type=\"file\" />\r\n                            <label className=\"custom-file-upload\">\r\n                                <input type=\"file\" accept=\".excel,.csv\" onChange={this.onChange}  id=\"file\" />\r\n                                <FaCloudUploadAlt style={{ color: '#FFFFFF' }} /> UPLOAD CSV FILE </label>\r\n                            {this.state.upload.map(x =>\r\n                                <div className=\"file-preview\" onClick={this.removeFile.bind(this, x)} key={x.name}>{x.name}</div>\r\n                            )}\r\n                        </Col>\r\n                    </Row>\r\n                    <div className=\"style-addData \" style={{ marginTop: '5%' }} >\r\n                        <Button\r\n                            className='btn-EditData interval-1'\r\n                            onClick={this.handleReset}\r\n                        >RESET</Button>\r\n\r\n                        <Button\r\n                            type=\"submit\"\r\n                            className='btn-info interval-1'\r\n                            onClick={this.handleSubmit}\r\n                        >SUBMIT</Button>\r\n\r\n                    </div>\r\n\r\n                </Form>\r\n            </React.Fragment>\r\n\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddNewStudent"]},"metadata":{},"sourceType":"module"}